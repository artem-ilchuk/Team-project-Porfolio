import{A as w,i as m,a as h,S,N as E,P as b,K as k,M as O}from"./assets/vendor-B6OOYGta.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const v=document.querySelector("#theme-switch"),l=document.body,p="switch";document.addEventListener("DOMContentLoaded",I);v.addEventListener("click",e=>{e.target.checked?(l.classList.replace("light","dark"),y(p,"dark")):(l.classList.replace("dark","light"),y(p,"light"))});function I(){M(p)==="dark"?(l.classList.replace("light","dark"),v.checked=!0):l.classList.replace("dark","light")}function y(e,t){try{const s=JSON.stringify(t);localStorage.setItem(e,s)}catch(s){console.log(s)}}function M(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}new w(".accordion-container",{duration:750,showMultiple:!1,openOnInit:[0],onOpen:function(e){}});const q=document.querySelector(".together-form");document.querySelector(".form-btn");const x=document.querySelector(".pop-up-close-btn"),a=document.querySelector(".form-input-name"),A=document.querySelector(".input-textarea"),c=document.querySelector(".backdrop"),g=document.querySelector(".together-invalid-email"),D="https://portfolio-js.b.goit.study/api/requests",n={email:"",comment:""},P=e=>{n.email=e.target.value,g.classList.add("d-none"),a.classList.remove("form-input-name-error")};a.addEventListener("input",P);const T=()=>{n.email!==""&&(a.checkValidity()||(g.classList.remove("d-none"),a.classList.add("form-input-name-error")))};a.addEventListener("blur",T);const N=e=>{n.comment=e.target.value};A.addEventListener("input",N);const B=async()=>h.post(D,n),d=document.getElementById("user-email"),f=document.querySelector(".email-correct-icon"),_=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,L=()=>{_.test(d.value)?f.classList.remove("d-none"):f.classList.add("d-none")};d.addEventListener("input",L);d.addEventListener("blur",()=>{d.value.trim()===""&&f.classList.add("d-none")});document.addEventListener("DOMContentLoaded",()=>{L()});const z=async e=>{if(e.preventDefault(),!a.checkValidity()){g.classList.remove("d-none"),a.classList.add("form-input-name-error");return}if(n.comment===""||n.email===""){m.error({message:"All fields must be completed!",position:"topRight",maxWidth:"300px"});return}B();try{c.classList.add("is-open")}catch{m.error({message:"Ops! Something went wrong. Please try again!",position:"topRight",maxWidth:"300px"})}e.currentTarget.reset(),n.comment="",n.email=""};q.addEventListener("submit",z);const R=e=>{c.classList.remove("is-open")};x.addEventListener("click",R);const j=e=>{e.target===c&&c.classList.remove("is-open")};c.addEventListener("click",j);document.addEventListener("keydown",e=>{e.key==="Escape"&&c.classList.remove("is-open")});V();C();async function V(){await h.get("https://portfolio-js.b.goit.study/api/reviews").then(e=>{$(e.data)}).catch(e=>{K("Reviews not found"),document.querySelector(".swiper-wrapper").insertAdjacentHTML("beforeend",'<li class="not-found"><p class="not-found-text">Not Found</p></li>')})}function $(e){const t=document.querySelector(".swiper-wrapper");let s=e.map(i=>`
    <li class="swiper-slide">
        <p class="review-text">
          ${i.review}
        </p>
        <div class="review-thumb">
          <img class="review-avatar" src="${i.avatar_url}" alt="Autor: ${i.author}">
          <p class="review-author">${i.author}</p>
        </div>
      </li>`).join("");t.insertAdjacentHTML("beforeend",s)}function C(){new S(".swiper",{modules:[E,b,k,O],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},mousewheel:{enabled:!0},slidesPerView:1,spaceBetween:32,breakpoints:{1280:{slidesPerView:2}}})}function K(e,t="red"){m.show({icon:"icon-person",message:e,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}
//# sourceMappingURL=index.js.map
