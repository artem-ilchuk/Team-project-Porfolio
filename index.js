import{A as k,i as d,a as v,S as M,N as A,K as O,M as q}from"./assets/vendor-DNXmNEOu.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();new k(".accordion-container",{duration:750,showMultiple:!1,openOnInit:[0],onOpen:function(e){}});(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".burger-btn"),s=document.querySelector(".js-close-menu"),r=document.querySelectorAll(".js-mob-link"),n=()=>{const o=t.getAttribute("aria-expanded")==="true"||!1;t.setAttribute("aria-expanded",!o),e.classList.toggle("is-open");const c=o?"enableBodyScroll":"disableBodyScroll";bodyScrollLock[c](document.body)};r.forEach(o=>{o.addEventListener("click",n)}),t.addEventListener("click",n),s.addEventListener("click",n),window.matchMedia("(min-width: 1279px)").addEventListener("change",o=>{o.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))})})();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("btn_my_project_first"),t=3;if(!e){console.error("Кнопка з ID 'btn_my_project_first' не знайдена!");return}let r=Array.from(document.querySelectorAll(".list_my_project")).filter(o=>o.classList.contains("hidden"));function n(){r.length,r.slice(0,t).forEach(o=>{o.style.display="block",o.classList.remove("hidden"),o.classList.add("show")}),r=r.slice(t),r.length||(e.style.display="none",e.setAttribute("aria-hidden","true"))}e.addEventListener("click",n)});const L=document.querySelector("#switch"),a=document.body,u="switch";document.addEventListener("DOMContentLoaded",x);L.addEventListener("click",e=>{e.target.checked?(a.classList.replace("light","dark"),h(u,"dark")):(a.classList.replace("dark","light"),h(u,"light"))});function x(){I(u)==="dark"?(a.classList.replace("light","dark"),L.checked=!0):a.classList.replace("dark","light")}function h(e,t){try{const s=JSON.stringify(t);localStorage.setItem(e,s)}catch(s){console.log(s)}}function I(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}const j=document.querySelector(".together-form"),i=document.getElementById("user-email"),m=document.querySelector(".email-correct-icon"),p=document.querySelector(".input-textarea"),f=document.querySelector(".together-invalid-email"),l=document.querySelector(".backdrop"),P=document.querySelector(".pop-up-close-btn"),w=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,_="https://portfolio-js.b.goit.study/api/requests";let y=!1;const B=()=>{w.test(i.value)?(m.classList.remove("d-none"),f.classList.add("d-none"),i.classList.remove("form-input-name-error")):m.classList.add("d-none")},b=()=>{i.value="",p.value="",m.classList.add("d-none"),f.classList.add("d-none"),i.classList.remove("form-input-name-error")},D=async e=>{if(e.preventDefault(),!w.test(i.value)){f.classList.remove("d-none"),i.classList.add("form-input-name-error");return}if(p.value.trim()===""){d.error({message:"All fields must be completed!",position:"topRight",maxWidth:"300px"});return}const t={email:i.value.trim(),comment:p.value.trim()};try{await v.post(_,t),l.classList.add("is-open"),y=!0,document.addEventListener("keydown",S),b()}catch{d.error({message:"Ops! Something went wrong. Please try again!",position:"topRight",maxWidth:"300px"})}},g=()=>{l.classList.remove("is-open"),y=!1,document.removeEventListener("keydown",S)},S=e=>{e.key==="Escape"&&y&&g()};i.addEventListener("input",B);j.addEventListener("submit",D);P.addEventListener("click",g);l.addEventListener("click",e=>{e.target===l&&g()});document.addEventListener("DOMContentLoaded",b);const E=document.querySelector(".js-load-reviews"),N={root:null,rootMargin:"0px",threshold:0},T=new IntersectionObserver(z,N);T.observe(E);function z(e,t){e.forEach(async s=>{if(s.isIntersecting){t.unobserve(E);try{await C(),K()}catch(r){alert(r.message)}}})}async function C(){await v.get("https://portfolio-js.b.goit.study/api/reviews").then(e=>{R(e.data)}).catch(()=>{$("Reviews not found"),document.querySelector(".swiper-wrapper").insertAdjacentHTML("beforeend",'<li class="not-found"><p class="not-found-text">Not Found</p></li>')})}function R(e){const t=document.querySelector(".swiper-wrapper");let s=e.map(r=>`
    <li class="swiper-slide">
        <p class="review-text">
          ${r.review}
        </p>
        <div class="review-thumb">
          <img class="review-avatar" src="${r.avatar_url}" alt="Autor: ${r.author}">
          <p class="review-author">${r.author}</p>
        </div>
      </li>`).join("");t.insertAdjacentHTML("beforeend",s)}function K(){new M(".swiper",{modules:[A,O,q],navigation:{nextEl:".reviews-button-next",prevEl:".reviews-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},mousewheel:{enabled:!0},slidesPerView:1,spaceBetween:32,breakpoints:{1280:{slidesPerView:2}}})}function $(e,t="red"){d.show({icon:"icon-person",message:e,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}
//# sourceMappingURL=index.js.map
