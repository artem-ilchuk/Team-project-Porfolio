import{A as b,i as d,a as y,S as E,N as k,P as O,K as I,M as _}from"./assets/vendor-B6OOYGta.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const v=document.querySelector("#theme-switch"),a=document.body,u="switch";document.addEventListener("DOMContentLoaded",M);v.addEventListener("click",e=>{e.target.checked?(a.classList.replace("light","dark"),h(u,"dark")):(a.classList.replace("dark","light"),h(u,"light"))});function M(){A(u)==="dark"?(a.classList.replace("light","dark"),v.checked=!0):a.classList.replace("dark","light")}function h(e,t){try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(r){console.log(r)}}function A(e){try{const t=localStorage.getItem(e);return t===null?void 0:JSON.parse(t)}catch(t){console.log(t)}}new b(".accordion-container",{duration:750,showMultiple:!1,openOnInit:[0],onOpen:function(e){}});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("btn_my_project_first"),t=3;if(!e){console.error("Кнопка з ID 'btn_my_project_first' не знайдена!");return}e.addEventListener("click",()=>{const r=document.querySelectorAll(".list_my_project.hidden");let n=0;r.forEach(o=>{n<t&&o.classList.contains("hidden")&&(o.style.display="block",setTimeout(()=>{o.classList.remove("hidden"),o.classList.add("show")},100),n++)}),document.querySelectorAll(".list_my_project.hidden").length===0&&(e.style.display="none")})});const q=document.querySelector(".together-form"),i=document.getElementById("user-email"),m=document.querySelector(".email-correct-icon"),p=document.querySelector(".input-textarea"),f=document.querySelector(".together-invalid-email"),c=document.querySelector(".backdrop"),P=document.querySelector(".pop-up-close-btn"),w=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,x="https://portfolio-js.b.goit.study/api/requests",D=()=>{w.test(i.value)?(m.classList.remove("d-none"),f.classList.add("d-none"),i.classList.remove("form-input-name-error")):m.classList.add("d-none")},L=()=>{i.value="",p.value="",m.classList.add("d-none"),f.classList.add("d-none"),i.classList.remove("form-input-name-error")},j=async e=>{if(e.preventDefault(),!w.test(i.value)){f.classList.remove("d-none"),i.classList.add("form-input-name-error");return}if(p.value.trim()===""){d.error({message:"All fields must be completed!",position:"topRight",maxWidth:"300px"});return}const t={email:i.value.trim(),comment:p.value.trim()};try{await y.post(x,t),c.classList.add("is-open"),L()}catch{d.error({message:"Ops! Something went wrong. Please try again!",position:"topRight",maxWidth:"300px"})}},g=()=>{c.classList.remove("is-open")};i.addEventListener("input",D);q.addEventListener("submit",j);P.addEventListener("click",g);c.addEventListener("click",e=>{e.target===c&&g()});document.addEventListener("keydown",e=>{e.key==="Escape"&&g()});document.addEventListener("DOMContentLoaded",L);const S=document.querySelector(".js-load-reviews"),T={root:null,rootMargin:"0px",threshold:0},B=new IntersectionObserver(N,T);B.observe(S);function N(e,t){e.forEach(async r=>{if(r.isIntersecting){t.unobserve(S);try{await z(),R()}catch(n){alert(n.message)}}})}async function z(){await y.get("https://portfolio-js.b.goit.study/api/reviews").then(e=>{C(e.data)}).catch(()=>{$("Reviews not found"),document.querySelector(".swiper-wrapper").insertAdjacentHTML("beforeend",'<li class="not-found"><p class="not-found-text">Not Found</p></li>')})}function C(e){const t=document.querySelector(".swiper-wrapper");let r=e.map(n=>`
    <li class="swiper-slide">
        <p class="review-text">
          ${n.review}
        </p>
        <div class="review-thumb">
          <img class="review-avatar" src="${n.avatar_url}" alt="Autor: ${n.author}">
          <p class="review-author">${n.author}</p>
        </div>
      </li>`).join("");t.insertAdjacentHTML("beforeend",r)}function R(){new E(".swiper",{modules:[k,O,I,_],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1,pageUpDown:!0},mousewheel:{enabled:!0},slidesPerView:1,spaceBetween:32,breakpoints:{1280:{slidesPerView:2}}})}function $(e,t="red"){d.show({icon:"icon-person",message:e,color:t,position:"topRight",transitionIn:"bounceInDown",transitionOut:"flipOutX",closeOnClick:!0,displayMode:"replace",timeout:3e3})}
//# sourceMappingURL=index.js.map
